(this.webpackJsonpstocks=this.webpackJsonpstocks||[]).push([[0],{330:function(e,t,r){"use strict";r.r(t);var c=r(7),n=r(0),a=r(25),i=r.n(a),s=r(85),l=r.n(s),d=r(118),o=r(46),u=r(334),j=r(83),h=r(337),b=r(338),p=r(72),x=r(29),f=r(119),O=r.n(f),g=r(173),m=r(335),v=r(336),y=r(332),w="https://script.google.com/a/uw.edu/macros/s/AKfycbzdeg0uAW8TFykGSnDPjMxYhAayyAfcQEnuByZm7ykEKiXJbdk/exec?",k=[{title:"\u6f32\u901f(\u9031)",dataIndex:"speed",key:"speed",align:"right",width:100,render:function(e,t,r){var n=t.predict.price-t.current.price,a=(new Date(t.predict.date)-new Date(t.current.date))/864e5,i=Math.round(n/(a/7*5)*100)/100,s=Math.round(i/a*100)/100;return Object(c.jsxs)("p",{style:{textAlign:"right"},children:[Object(c.jsxs)("span",{children:[s,"%"]}),Object(c.jsx)("br",{}),Object(c.jsx)("small",{children:i})]})},defaultSortOrder:"descend",sorter:function(e,t){var r=e.predict.price-e.current.price,c=(new Date(e.predict.date)-new Date(e.current.date))/864e5,n=Math.round(r/(c/7*5)*100)/100,a=Math.round(n/c*100)/100,i=t.predict.price-t.current.price,s=(new Date(t.predict.date)-new Date(t.current.date))/864e5,l=Math.round(i/(s/7*5)*100)/100;return a-Math.round(l/s*100)/100}},{title:"\u7372\u5229\u7a7a\u9593",dataIndex:"gain",key:"gain",align:"right",width:100,render:function(e,t,r){return Object(c.jsxs)("p",{style:{textAlign:"right"},children:[Object(c.jsx)("span",{children:t.gain.price}),Object(c.jsx)("br",{}),Object(c.jsx)("small",{children:t.gain.percentage})]})},sorter:function(e,t){return e.gain.price-t.gain.price}},{title:"\u8d77\u6f32\u9ede",dataIndex:"start",key:"start",align:"right",width:100,render:function(e,t,r){return Object(c.jsxs)("p",{style:{textAlign:"right"},children:[Object(c.jsx)("span",{children:t.start.price}),Object(c.jsx)("br",{}),Object(c.jsx)("small",{children:t.start.date})]})}},{title:"\u4e2d\u9593\u503c",dataIndex:"middle",key:"middle",align:"right",width:100,render:function(e,t,r){return Object(c.jsxs)("p",{style:{textAlign:"right"},children:[Object(c.jsx)("span",{children:t.middle.price}),Object(c.jsx)("br",{}),Object(c.jsx)("small",{children:t.middle.date})]})}},{title:"\u73fe\u50f9",dataIndex:"currentPrice",key:"currentPrice",align:"right",width:100,render:function(e,t,r){var n={textAlign:"right"};return t.current.price<t.buy.price?n.color="green":n.color="red",Object(c.jsxs)("p",{style:n,children:[Object(c.jsx)("span",{children:t.current.price}),Object(c.jsx)("br",{}),Object(c.jsx)("small",{style:{color:"black"},children:t.current.date})]})}},{title:"\u76ee\u6a19\u50f9",dataIndex:"predict",key:"predict",align:"right",width:100,render:function(e,t,r){return Object(c.jsxs)("p",{style:{textAlign:"right"},children:[Object(c.jsx)("span",{children:t.predict.price}),Object(c.jsx)("br",{}),Object(c.jsx)("small",{children:t.predict.date})]})},sorter:function(e,t){return e.predict.price-t.predict.price}}];function S(){var e=Object(x.f)(),t=e.exchange,r=e.symbol,a=Object(n.useState)(""),i=Object(o.a)(a,2),s=i[0],l=i[1],d=Object(n.useState)([]),j=Object(o.a)(d,2),h=j[0],b=j[1],p=Object(n.useState)([]),f=Object(o.a)(p,2),O=f[0],g=f[1];Object(n.useEffect)((function(){fetch(w+"mode=single&exchange=".concat(t,"&symbol=").concat(r)).then((function(e){if(e.ok)return e.data})).then((function(e){document.title="".concat(r," - ").concat(e.fullName," | Stocks"),l(e.fullName),b(e.old),g(e.current)})).catch((function(e){console.error(e),u.b.error("Unable to fetch data. Please try again later.")}))}),[t,r]);var S=Object(c.jsxs)(c.Fragment,{children:[s," (",r,") ",Object(c.jsx)(m.a,{count:1,onChange:function(e){var t=localStorage.getItem("favorite"),c=t?JSON.parse(t):{},n=c||[];if(0===e){var a=n.indexOf(r);a>-1&&n.splice(a,1)}else n.push(r);localStorage.setItem("favorite",JSON.stringify(c))}})]});return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:Object(c.jsxs)(v.a,{title:S,children:[Object(c.jsx)(v.a.Item,{label:"\u6e96\u78ba\u7387",children:"95%"}),Object(c.jsx)(v.a.Item,{label:"\u7b56\u7565",children:"\u8cb7/\u8ce3"}),Object(c.jsx)(v.a.Item,{label:"\u80a1\u50f9\u72c0\u614b",children:"\u6f32/\u8dcc"})]})}),Object(c.jsx)("div",{children:Object(c.jsx)(y.a,{columns:k,dateSource:O})}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"\u904e\u5f80\u7d00\u9304"}),Object(c.jsx)(y.a,{columns:k,dateSource:h})]})]})}var D=r(177),N=r(53),A=r(333);function M(e){var t=e.stockData,r=[{title:"\u80a1\u7968",dataIndex:"stock",key:"stock",ellipsis:!0,width:100,fixed:"left",render:function(e,t,r){var n=t.subDataSource,a=t.fullName;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("p",{children:[Object(c.jsxs)(p.b,{to:"/".concat(t.exchanges,"/").concat(t.stock),children:[e.padEnd(6)," ",Object(c.jsxs)("span",{style:{textAlign:"right"},children:[" - ",a]})]}),Object(c.jsx)("br",{}),Object(c.jsxs)(c.Fragment,{children:["$",n[0].current.price," "]})]})})},sorter:function(e,t){return e.stock-t.stock}},{title:"\u6700\u5927\u6f32\u901f(\u9031)",dataIndex:"speed",key:"speed",align:"right",width:100,render:function(e,t,r){var n,a=t.subDataSource,i=0,s=0,l=Object(N.a)(a);try{for(l.s();!(n=l.n()).done;){var d=n.value,o=d.predict.price-d.current.price,u=(new Date(d.predict.date)-new Date(d.current.date))/864e5,j=Math.round(o/(u/7*5)*1e4)/1e4,h=Math.round(j/u*100)/100;h>s&&(s=h,i=j)}}catch(b){l.e(b)}finally{l.f()}return Object(c.jsxs)("p",{children:[Object(c.jsxs)("span",{children:[s,"%"]}),Object(c.jsx)("br",{}),Object(c.jsx)("small",{children:i})]})},defaultSortOrder:"descend",sorter:function(e,t){var r,c=e.subDataSource,n=0,a=Object(N.a)(c);try{for(a.s();!(r=a.n()).done;){var i=r.value,s=i.predict.price-i.current.price,l=(new Date(i.predict.date)-new Date(i.current.date))/864e5,d=Math.round(s/(l/7*5)*100)/100,o=Math.round(d/l*100)/100;o>n&&(n=o)}}catch(m){a.e(m)}finally{a.f()}var u,j=t.subDataSource,h=0,b=Object(N.a)(j);try{for(b.s();!(u=b.n()).done;){var p=u.value,x=p.predict.price-p.current.price,f=(new Date(p.predict.date)-new Date(p.current.date))/864e5,O=Math.round(x/(f/7*5)*100)/100,g=Math.round(O/f*100)/100;g>h&&(h=g)}}catch(m){b.e(m)}finally{b.f()}return n-h}},{title:"\u7372\u5229\u7a7a\u9593",dataIndex:"gain",key:"gain",align:"right",width:100,render:function(e,t,r){var n,a=t.subDataSource,i=a[0].gain.price,s=a[0].gain.percentage,l=a[0].gain.price,d=a[0].gain.percentage,o=Object(N.a)(a);try{for(o.s();!(n=o.n()).done;){var u=n.value;u.gain.price<i&&(i=u.gain.price,s=u.gain.percentage),u.gain.price>l&&(l=u.gain.price,d=u.gain.percentage)}}catch(b){o.e(b)}finally{o.f()}var j=i===l?i:"".concat(i," - ").concat(l),h=s===d?s:"".concat(s," - ").concat(d);return Object(c.jsxs)("p",{children:[Object(c.jsxs)("span",{children:[j," "]}),Object(c.jsx)("br",{}),Object(c.jsxs)("small",{children:[h," "]})]})},sorter:function(e,t){var r,c=e.subDataSource,n=c[0].predict.price,a=c[0].predict.price,i=Object(N.a)(c);try{for(i.s();!(r=i.n()).done;){var s=r.value;n=Math.min(s.predict.price,n),a=Math.max(s.predict.price,a)}}catch(b){i.e(b)}finally{i.f()}var l,d=t.subDataSource,o=d[0].predict.price,u=d[0].predict.price,j=Object(N.a)(d);try{for(j.s();!(l=j.n()).done;){var h=l.value;o=Math.min(h.predict.price,o),u=Math.max(h.predict.price,u)}}catch(b){j.e(b)}finally{j.f()}return a-u}},{title:"\u76ee\u6a19\u50f9",dataIndex:"predict",key:"predict",align:"right",width:100,render:function(e,t,r){var n,a=t.subDataSource,i=a[0].predict.price,s=a[0].predict.date,l=a[0].predict.price,d=a[0].predict.date,o=Object(N.a)(a);try{for(o.s();!(n=o.n()).done;){var u=n.value;u.predict.price<i&&(i=u.predict.price,s=u.predict.date),u.predict.price>l&&(l=u.predict.price,d=u.predict.date)}}catch(b){o.e(b)}finally{o.f()}var j=i===l?i:"".concat(i," - ").concat(l),h=i===l?s:"".concat(s," - ").concat(d);return Object(c.jsxs)("p",{children:[Object(c.jsxs)("span",{children:[j," "]}),Object(c.jsx)("br",{}),Object(c.jsxs)("small",{children:[h," "]})]})}}],a=Object(n.useState)([]),i=Object(o.a)(a,2),s=i[0],l=i[1],d=A.a.TabPane;return Object(n.useEffect)((function(){var e=[];for(var r in t){var c=[],n=t[r],a=[],i=[];for(var s in n){var d=n[s].fullName,o=n[s].data,u=o.new,j=o.hold;u.length>0&&a.push({key:a.length,exchanges:r,stock:s,fullName:d,subDataSource:u}),j.length>0&&i.push({key:i.length,exchanges:r,stock:s,fullName:d,subDataSource:j})}c.push({tabName:"Today New",dataSource:a}),c.push({tabName:"All",dataSource:i.concat(a)}),e.push({exchanges:r,subTabs:c})}console.log(e),l(e)}),[t]),Object(c.jsx)(A.a,{defaultActiveKey:"0",children:s.map((function(e,t){return Object(c.jsx)(d,{tab:e.exchanges,children:Object(c.jsx)(A.a,{defaultActiveKey:"0",children:e.subTabs.map((function(e,t){return Object(c.jsx)(d,{tab:e.tabName,children:Object(c.jsx)("div",{style:{margin:"auto"},children:Object(c.jsx)(y.a,{size:"small",columns:r,bordered:!0,dataSource:e.dataSource,expandable:{expandedRowRender:I,expandRowByClick:!0},scroll:{x:600}},t)})},t)}))})},t)}))})}var I=function(e){for(var t=[],r=0;r<e.subDataSource.length;r++){var n=e.subDataSource[r];t.push(Object(D.a)({key:r,stock:e.stock,buy:{price:0,date:"12/12/2020"}},n))}return console.log(t),Object(c.jsx)("div",{style:{margin:"10px 0px"},children:Object(c.jsx)(y.a,{size:"small",columns:k,dataSource:t,bordered:!0,pagination:{defaultPageSize:100,hideOnSinglePage:!0},scroll:{x:600}})})};var C=function(e){var t=e.date,r=j.a.Option,a=Object(n.useState)([]),i=Object(o.a)(a,2),s=i[0],x=i[1];Object(n.useEffect)((function(){f()}),[]);var f=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get(w+"?mode=stock-list").then((function(e){if(e.ok)return e.data})).then((function(e){return e}));case 3:e.sent,x([]),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),u.b.error("Search Function will not work");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)("div",{style:{width:"100%"},children:Object(c.jsx)("div",{style:{width:"95%",margin:"auto"},children:Object(c.jsxs)(h.a,{children:[Object(c.jsxs)(b.a,{xs:24,sm:24,md:6,lg:6,xl:5,xxl:4,children:[Object(c.jsx)("h1",{children:Object(c.jsx)(p.b,{to:"/",style:{color:"black"},children:"Stocks"})})," ",Object(c.jsx)("small",{children:t})]}),Object(c.jsx)(b.a,{xs:0,sm:0,md:18,lg:18,xl:19,xxl:20,style:{textAlign:"right"},children:Object(c.jsx)(j.a,{showSearch:!0,defaultActiveFirstOption:!1,showArrow:!1,filterOption:function(e,t){return t.symbol.toLowerCase().indexOf(e.toLowerCase())>=0||t.fullName.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){var r=e.symbol.toLowerCase().localeCompare(t.symbol.toLowerCase());return 0!==r?r:e.fullName.toLowerCase().localeCompare(t.fullName.toLowerCase())},onSelect:function(e){window.location.href="/stocks/"+e},notFoundContent:null,placeholder:"Search...",style:{width:"250px",textAlign:"left"},children:s.map((function(e){return Object(c.jsxs)(r,{value:"".concat(e.exchange,"/").concat(e.symbol),children:[Object(c.jsx)("span",{children:e.symbol}),Object(c.jsx)("br",{}),Object(c.jsx)("small",{children:e.fullName})]},"".concat(e.exchange,"/").concat(e.symbol))}))})})]})})})},L=function(){var e=Object(n.useState)({}),t=Object(o.a)(e,2),r=t[0],a=t[1],i=Object(n.useState)(""),s=Object(o.a)(i,2),j=s[0],h=s[1];Object(n.useEffect)((function(){b()}),[]);var b=function(){var e=Object(d.a)(l.a.mark((function e(){var t,r,c,n,i,s,d,o,j,b,p,x,f,m,v,y,w,k;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u.b.loading({content:"Loading...",key:"loading",duration:0}),e.next=4,O.a.get("https://docs.google.com/spreadsheets/u/1/d/e/2PACX-1vQGMwv4tEoSbTjgtSht6LZ5Vxlwb0Y4Lm1z5Pp0tuBcSaZE9AMTY_isyio7Sc-_C8LHsfv_xMptHeqA/pubhtml").then((function(e){return e.data})).then((function(e){return e}));case 4:for(t=e.sent,r=Object(g.a)(t),c=r.querySelector("#sheets-viewport"),n=c.querySelector("#0 table tbody"),i=n.childNodes[0],s=[],d=0;d<i.childNodes.length;d++)s.push(i.childNodes[d].innerText);for(o={},j={},b=1;b<s.length;b++)j[s[b]]=!1;p=1,f=function(){for(var e in j)if(!j[e])return!1;return!0};case 16:if(f()||!(n.childNodes.length-p>1)){e.next=36;break}m=n.childNodes[n.childNodes.length-p],x=m.childNodes[1].innerText,v=2;case 20:if(!(v<m.childNodes.length)){e.next=33;break}if(!j[s[v]]){e.next=23;break}return e.abrupt("continue",30);case 23:if(y=m.childNodes[v],"{}"!==(w=y.innerText.replace(/&quot;/g,'"'))){e.next=27;break}return e.abrupt("continue",30);case 27:k=JSON.parse(w),o[s[v]]=k,j[s[v]]=!0;case 30:v++,e.next=20;break;case 33:p++,e.next=16;break;case 36:a(o),h(x),u.b.success({content:"Finish loading",key:"loading",duration:.5}),e.next=45;break;case 41:e.prev=41,e.t0=e.catch(0),console.error(e.t0),u.b.error("Something went wrong. Please try again later");case 45:case"end":return e.stop()}}),e,null,[[0,41]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)("div",{style:{padding:10},children:Object(c.jsxs)(p.a,{basename:"/stocks",children:[Object(c.jsx)(C,{date:j}),Object(c.jsx)("div",{style:{width:"95%",margin:"auto"},children:Object(c.jsxs)(x.c,{children:[Object(c.jsx)(x.a,{exact:!0,path:"/:exchange/:symbol",component:S}),Object(c.jsx)(x.a,{exact:!0,path:"/",children:Object(c.jsx)(M,{stockData:r})})]})})]})})};r(328);i.a.render(Object(c.jsx)(L,{}),document.getElementById("root"))}},[[330,1,2]]]);
//# sourceMappingURL=main.7dcc82e7.chunk.js.map